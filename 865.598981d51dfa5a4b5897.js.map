{"version":3,"file":"865.598981d51dfa5a4b5897.js","mappings":"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","sources":["webpack://toxin/./src/components/plugins/selectPlugin/_Select.js"],"sourcesContent":["import { OrderInstance } from \"/src/components/blocks/card-price/_card-price\";\r\n\r\nexport class Select {\r\n  constructor(selector, options) {\r\n    this.$el = document.querySelector(selector);\r\n    if (!this.$el) {\r\n      console.log(\"The essential DOM element for this script is not found\");\r\n      return;\r\n    }\r\n    this.options = options\r\n      ? this.mergeUserOptions(options)\r\n      : this.getDefaultOptions();\r\n\r\n    const { isInline } = this.options;\r\n    this.isInline = isInline;\r\n\r\n    this.#render();\r\n    this.#setup();\r\n    this.plus();\r\n    this.minus();\r\n\r\n    this.print();\r\n    // this.checkLocalStorage();\r\n    // this.getDataObject();\r\n    // this.setDataObject();\r\n  }\r\n\r\n  #render() {\r\n    const { data, placeholder, buttons } = this.options;\r\n    this.$el.classList.add(\"select\");\r\n    this.$el.innerHTML = getTemplate(data, placeholder, buttons);\r\n  }\r\n\r\n  #setup() {\r\n    const { data } = this.options;\r\n    if (this.isInline === true) {\r\n      this.inlineDropdown();\r\n    }\r\n\r\n    this.data = data;\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.$el.addEventListener(\"click\", this.clickHandler);\r\n    this.$items = this.$el.querySelectorAll(\".select__item\");\r\n    this.$num = this.$el.querySelector(\".select__item-number\");\r\n    this.$input = this.$el.querySelector(\".select__input\");\r\n    this.$selectText = this.$input.querySelector(\"span\");\r\n    this.$buttonClear = this.$el.querySelector(\".select__button-buttonClear\");\r\n    this.$buttonSubmit = this.$el.querySelector(\".select__button-buttonSubmit\");\r\n    const { countItems } = this.options;\r\n    this.countItems = countItems;\r\n    this.buttonsClickHandler();\r\n  }\r\n\r\n  clickHandler(event) {\r\n    const { type } = event.target.dataset;\r\n    if (type === \"input\") {\r\n      this.toggle();\r\n    } else if (type === \"backdrop\") {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  buttonsClickHandler() {\r\n    if (this.$buttonClear) {\r\n      this.$buttonClear.addEventListener(\"click\", () => {\r\n        this.clear();\r\n      });\r\n    }\r\n    if (this.$buttonSubmit) {\r\n      this.$buttonSubmit.addEventListener(\"click\", () => {\r\n        this.submit();\r\n      });\r\n    }\r\n  }\r\n\r\n  inlineDropdown() {\r\n    if (!this.$el.classList.contains(\"inline\")) {\r\n      this.$el.classList.add(\"inline\");\r\n    }\r\n    this.open();\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.$el.classList.contains(\"open\");\r\n  }\r\n\r\n  toggle() {\r\n    this.isOpen && !this.isInline === true ? this.close() : this.open();\r\n  }\r\n\r\n  open() {\r\n    this.$el.classList.add(\"open\");\r\n  }\r\n\r\n  close() {\r\n    this.$el.classList.remove(\"open\");\r\n  }\r\n  destroy() {\r\n    this.$el.removeEventListener(\"click\", this.clickHandler);\r\n  }\r\n\r\n  plus() {\r\n    for (let item of this.data) {\r\n      const $selectItem = this.$el.querySelector(`.select__item-${item.id}`);\r\n\r\n      const plusButton = $selectItem.querySelector(\".select__item-plus\");\r\n      const minusButton = $selectItem.querySelector(\".select__item-minus\");\r\n      const itemValue = $selectItem.querySelector(\".select__item-number\");\r\n\r\n      plusButton.addEventListener(\"click\", () => {\r\n        item.counter += 1;\r\n        minusButton.classList.remove(\"inactive\");\r\n\r\n        itemValue.innerHTML = item.counter;\r\n        this.$selectText.innerHTML = this.chosenUpdate();\r\n        this.buttonRegulator();\r\n        this.setInputValue();\r\n      });\r\n    }\r\n  }\r\n  minus() {\r\n    for (let item of this.data) {\r\n      const $selectItem = this.$el.querySelector(`.select__item-${item.id}`);\r\n      const minusButton = $selectItem.querySelector(\".select__item-minus\");\r\n      const itemValue = $selectItem.querySelector(\".select__item-number\");\r\n      minusButton.addEventListener(\"click\", () => {\r\n        if (this.#isZero(item.counter)) {\r\n          item.counter;\r\n        } else {\r\n          item.counter -= 1;\r\n          if (this.#isZero(item.counter)) {\r\n            minusButton.classList.add(\"inactive\");\r\n          }\r\n        }\r\n        itemValue.innerHTML = item.counter;\r\n        this.$selectText.innerHTML = this.chosenUpdate();\r\n        this.buttonRegulator();\r\n        this.setInputValue();\r\n\r\n        // this.onChange();\r\n      });\r\n    }\r\n  }\r\n\r\n  setInputValue() {\r\n    this.$input.dataset.value = this.countTotal().total;\r\n  }\r\n\r\n  buttonRegulator() {\r\n    if (this.countTotal() === 0) {\r\n      this.$buttonClear?.classList.add(\"disabled\");\r\n      this.$buttonClear?.classList.remove(\"enabled\");\r\n    } else {\r\n      this.$buttonClear?.classList.add(\"enabled\");\r\n      this.$buttonClear?.classList.remove(\"disabled\");\r\n    }\r\n  }\r\n  declinedText(num, cases) {\r\n    return num + \" \" + this.declineByQuan(num, cases);\r\n  }\r\n\r\n  clear() {\r\n    this.$selectText.innerHTML = this.options.placeholder;\r\n    for (let item of this.data) {\r\n      item.counter = 0;\r\n    }\r\n    this.$items.forEach((item) => {\r\n      item.querySelector(\".select__item-number\").innerHTML = 0;\r\n      item.querySelector(\".select__item-minus\").classList.add(\"inactive\");\r\n    });\r\n    this.buttonRegulator();\r\n    this.setInputValue();\r\n  }\r\n\r\n  submit() {\r\n    this.$selectText.innerHTML = this.chosenUpdate();\r\n    if (!this.isInline) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  countTotal() {\r\n    this.total = 0;\r\n    let exceptions = 0;\r\n    for (let item of this.data) {\r\n      if (item.value === this.countException) {\r\n        exceptions += item.counter;\r\n      }\r\n      this.total += item.counter;\r\n    }\r\n    return { total: this.total - exceptions, exc: exceptions };\r\n  }\r\n\r\n  showByTotal() {\r\n    let num = this.countTotal().total;\r\n    let exc = this.countTotal().exc;\r\n    if (!this.#isZero(num)) {\r\n      let selectText = `${this.declinedText(num, [\r\n        \"гость\",\r\n        \"гостя\",\r\n        \"гостей\",\r\n      ])}`;\r\n\r\n      if (this.countTotal().exc) {\r\n        const textException = `, ${this.declinedText(exc, [\r\n          \"младенец\",\r\n          \"младенца\",\r\n          \"младенцев\",\r\n        ])}`;\r\n        selectText += textException;\r\n      }\r\n      return selectText;\r\n    }\r\n  }\r\n\r\n  showByTitles() {\r\n    let chosenArr = [];\r\n    for (let item of this.data) {\r\n      if (!this.#isZero(item.counter)) {\r\n        chosenArr.push(this.declinedText(item.counter, item.cases));\r\n      }\r\n    }\r\n    return chosenArr.join(\", \");\r\n  }\r\n  chosenUpdate() {\r\n    if (this.countItems == \"byTitles\") {\r\n      return this.showByTitles() || this.options.placeholder;\r\n    } else if (this.countItems == \"byTotalNumber\") {\r\n      return this.showByTotal() || this.options.placeholder;\r\n    }\r\n  }\r\n  setValue(val) {\r\n    this.$input.dataset.value = val;\r\n  }\r\n  #isZero(num) {\r\n    return num == 0;\r\n  }\r\n  declineByQuan(number, txt) {\r\n    const cases = [2, 0, 1, 1, 1, 2];\r\n    return txt[\r\n      number % 100 > 4 && number % 100 < 20\r\n        ? 2\r\n        : cases[number % 10 < 5 ? number % 10 : 5]\r\n    ];\r\n  }\r\n  checkLocalStorage() {\r\n    if (JSON.parse(localStorage.getItem(\"chosenData\"))) {\r\n      console.log(JSON.parse(localStorage.getItem(\"chosenData\")).guests);\r\n    }\r\n  }\r\n  setDataObject(dataObject) {\r\n    let guests;\r\n    if (dataObject) {\r\n      guests = dataObject;\r\n    } else {\r\n      return;\r\n    }\r\n    for (let i of Object.values(guests.chosenItems)) {\r\n      // console.log(i.textValue);\r\n      this.data[i.id - 1].counter = i.counter;\r\n      const $selectItem = this.$el.querySelector(`.select__item-${i.id}`);\r\n      const itemValue = $selectItem.querySelector(\".select__item-number\");\r\n      itemValue.innerHTML = i.counter;\r\n    }\r\n\r\n    this.buttonRegulator();\r\n\r\n    this.$selectText.innerHTML = guests.selectText;\r\n    this.$input.dataset.value = guests.total.total;\r\n\r\n    console.log(guests.selectText);\r\n  }\r\n  getDataObject() {\r\n    // let items = [];\r\n    let items = {};\r\n    let guests = {};\r\n    let exceptions = {};\r\n    let exception = \"младенцы\";\r\n\r\n    let guestCount = 0;\r\n    let exceptionCount = 0;\r\n\r\n    for (let i of this.data) {\r\n      let tempObj = {};\r\n\r\n      if (i.counter > 0) {\r\n        tempObj.id = i.id;\r\n        tempObj.textValue = this.declinedText(i.counter, i.cases);\r\n        tempObj.counter = i.counter;\r\n        if (i.value !== exception) {\r\n          guestCount += i.counter;\r\n          tempObj.cases = this.guestsCases;\r\n        } else {\r\n          exceptionCount += i.counter;\r\n          tempObj.cases = i.cases;\r\n        }\r\n        items[`${i.id}`] = tempObj;\r\n      }\r\n    }\r\n\r\n    guests.counter = guestCount;\r\n    // guests.cases = [\"гость\", \"гостя\", \"гостей\"];\r\n    guests.cases = this.guestsCases;\r\n    exceptions.counter = exceptionCount;\r\n    exceptions.cases = this.guestsCatCases[2];\r\n\r\n    let guestsText =\r\n      guests.counter > 0\r\n        ? `${this.declinedText(guests.counter, guests.cases)}, `\r\n        : \"\";\r\n    let exceptionsText =\r\n      exceptions.counter > 0\r\n        ? `${this.declinedText(exceptions.counter, exceptions.cases)}`\r\n        : \"\";\r\n\r\n    let countGuestsText = guestsText + exceptionsText;\r\n\r\n    let obj = {\r\n      total: this.countTotal(),\r\n      chosenItems: items,\r\n      guests: guests,\r\n      exceptions: exceptions,\r\n      selectText: countGuestsText,\r\n    };\r\n\r\n    return obj;\r\n  }\r\n\r\n  getDefaultAccomodationsObj() {\r\n    this.accomodationsCases = [\r\n      [\"спальня\", \"спальни\", \"спален\"],\r\n      [\"кровать\", \"кровати\", \"кроватей\"],\r\n      [\"ванная комната\", \"ванные комнаты\", \"ванных комнат\"],\r\n    ];\r\n\r\n    const accoms = this.accomodationsCases;\r\n\r\n    let dataArr = [];\r\n    for (let i = 0; i <= accoms.length - 1; i++) {\r\n      let data = {};\r\n      (data.id = i + 1),\r\n        (data.value = accoms[i][1]),\r\n        (data.counter = 0),\r\n        (data.cases = accoms[i]);\r\n      dataArr.push(data);\r\n    }\r\n    return dataArr;\r\n  }\r\n\r\n  print() {\r\n    // console.log(this.getDefaultAccomodations());\r\n    // console.log(this.data);\r\n  }\r\n  getDefaultGuestsObj() {\r\n    this.guestsCategories = [\"взрослые\", \"дети\", \"младенцы\"];\r\n    this.guestsCatCases = [\r\n      [\"взрослый\", \"взрослых\", \"взрослых\"],\r\n      [\"ребёнок\", \"ребёнка\", \"детей\"],\r\n      [\"младенец\", \"младенца\", \"младенцев\"],\r\n    ];\r\n    this.countException = \"младенцы\";\r\n    this.guestsCases = [\"гость\", \"гостя\", \"гостей\"];\r\n    const guests = this.guestsCatCases;\r\n\r\n    let dataArr = [];\r\n    for (let i = 0; i <= guests.length - 1; i++) {\r\n      let data = {};\r\n      (data.id = i + 1),\r\n        (data.value = this.guestsCategories[i]),\r\n        (data.counter = 0),\r\n        (data.cases = guests[i]),\r\n        dataArr.push(data);\r\n    }\r\n    return dataArr;\r\n  }\r\n  getDefaultOptions() {\r\n    let category = this.$el.classList.contains(\"select-accomodations\")\r\n      ? \"accomodations\"\r\n      : \"guests\";\r\n    let defaultPlaceholder = \"Выберите пожалуйста элемент\";\r\n    let defaultData, byTitle, byTotalNumber;\r\n    let defaultInline = this.$el.classList.contains(\"inline\") ? true : false;\r\n\r\n    const buttonsVar = [\r\n      { name: \"buttonClear\", value: \"очистить\" },\r\n      { name: \"buttonSubmit\", value: \"применить\" },\r\n    ];\r\n    let defaultButtons = false;\r\n    let defaultCountItems = \"byTitles\";\r\n    if (category == \"accomodations\") {\r\n      defaultPlaceholder = \"Выберите удобства\";\r\n      defaultData = this.getDefaultAccomodationsObj();\r\n      defaultButtons;\r\n      defaultCountItems;\r\n    } else {\r\n      defaultPlaceholder = \"Сколько гостей\";\r\n      defaultData = this.getDefaultGuestsObj();\r\n      defaultButtons = buttonsVar;\r\n      defaultCountItems = \"byTotalNumber\";\r\n    }\r\n    return {\r\n      placeholder: defaultPlaceholder,\r\n      isInline: defaultInline,\r\n      data: defaultData,\r\n      buttons: defaultButtons,\r\n      countItems: defaultCountItems,\r\n      // onChange: this.onChange(),\r\n    };\r\n  }\r\n\r\n  mergeUserOptions(userOptions) {\r\n    return Object.assign(this.getDefaultOptions(), userOptions);\r\n  }\r\n}\r\nconst getTemplate = (data, placeholder, buttons) => {\r\n  let $buttonContainer = ``;\r\n  let buttonSet = \"\";\r\n\r\n  // =============== buttons =================\r\n  if (buttons) {\r\n    for (let button of buttons) {\r\n      let disabled = button.name == \"buttonClear\" ? \"disabled\" : \"\";\r\n      buttonSet += `<div class=\"button button-noborder select__button-${button.name} ${disabled}\">${button.value}</div>`;\r\n    }\r\n    $buttonContainer = `<div class= \"select__buttons\">${buttonSet}</div>`;\r\n  }\r\n\r\n  const items = data.map((item) => {\r\n    // ============= items ======================\r\n    return `\r\n    \r\n      <div class=\"select__item select__item-${item.id}\">\r\n      <div class=\"select__item-name\">${item.value}</div>\r\n        <div class=\"select__item-choice\">\r\n          <div class=\"select__item-minus inactive\"><span>-</span></div>\r\n          <div class=\"select__item-number\"><span>${item.counter}</span></div>\r\n          <div class=\"select__item-plus\"><span>+</span></div>\r\n        </div>\r\n      </div>  \r\n    `;\r\n  });\r\n\r\n  // ========= dropdown =========================\r\n  return `\r\n  <div class = \"select__backdrop\" data-type=\"backdrop\"></div>\r\n  <div class=\"select__input\" data-value=\"0\" data-type=\"input\">\r\n    <span>${placeholder}</span></div>\r\n  <div class=\"select__dropdown\">\r\n      <div class=\"select__items\"> \r\n        ${items.join(\"\")}\r\n      </div>\r\n        ${$buttonContainer}\r\n  </div>\r\n  `;\r\n};\r\n"],"names":["Select","selector","options","this","$el","document","querySelector","mergeUserOptions","getDefaultOptions","isInline","plus","minus","print","console","log","event","type","target","dataset","toggle","close","$buttonClear","addEventListener","clear","$buttonSubmit","submit","classList","contains","add","open","isOpen","remove","removeEventListener","clickHandler","data","item","$selectItem","id","plusButton","minusButton","itemValue","counter","innerHTML","$selectText","chosenUpdate","buttonRegulator","setInputValue","$input","value","countTotal","total","num","cases","declineByQuan","placeholder","$items","forEach","exceptions","countException","exc","selectText","declinedText","chosenArr","push","join","countItems","showByTitles","showByTotal","val","number","txt","JSON","parse","localStorage","getItem","guests","dataObject","Object","values","chosenItems","i","items","guestCount","exceptionCount","tempObj","textValue","guestsCases","guestsCatCases","countGuestsText","accomodationsCases","accoms","dataArr","length","guestsCategories","defaultData","category","defaultPlaceholder","defaultInline","defaultButtons","defaultCountItems","getDefaultAccomodationsObj","getDefaultGuestsObj","name","buttons","userOptions","assign","getTemplate","inlineDropdown","bind","querySelectorAll","$num","buttonsClickHandler","$buttonContainer","buttonSet","button","disabled","map"],"sourceRoot":""}