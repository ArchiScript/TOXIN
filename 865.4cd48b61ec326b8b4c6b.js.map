{"version":3,"file":"865.4cd48b61ec326b8b4c6b.js","mappings":"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","sources":["webpack://toxin/./src/components/plugins/selectPlugin/_Select.js"],"sourcesContent":["export class Select {\r\n  constructor(selector, options) {\r\n    this.$el = document.querySelector(selector);\r\n    if (!this.$el) {\r\n      console.log(\"The essential DOM element for this script is not found\");\r\n      return;\r\n    }\r\n    this.options = options\r\n      ? this.mergeUserOptions(options)\r\n      : this.getDefaultOptions();\r\n\r\n    const { isInline } = this.options;\r\n    this.isInline = isInline;\r\n\r\n    this.#render();\r\n    this.#setup();\r\n    this.plus();\r\n    this.minus();\r\n  }\r\n\r\n  #render() {\r\n    const { data, placeholder, buttons } = this.options;\r\n    this.$el.classList.add(\"select\");\r\n    this.$el.innerHTML = getTemplate(data, placeholder, buttons);\r\n  }\r\n\r\n  #setup() {\r\n    const { data } = this.options;\r\n    if (this.isInline === true) {\r\n      this.inlineDropdown();\r\n    }\r\n\r\n    this.data = data;\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.$el.addEventListener(\"click\", this.clickHandler);\r\n    this.$items = this.$el.querySelectorAll(\".select__item\");\r\n    this.$num = this.$el.querySelector(\".select__item-number\");\r\n    this.$input = this.$el.querySelector(\".select__input\");\r\n    this.$selectText = this.$input.querySelector(\"span\");\r\n    this.$buttonClear = this.$el.querySelector(\".select__button-buttonClear\");\r\n    this.$buttonSubmit = this.$el.querySelector(\".select__button-buttonSubmit\");\r\n    const { countItems } = this.options;\r\n    this.countItems = countItems;\r\n    this.buttonsClickHandler();\r\n  }\r\n\r\n  clickHandler(event) {\r\n    const { type } = event.target.dataset;\r\n    if (type === \"input\") {\r\n      this.toggle();\r\n    } else if (type === \"backdrop\") {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  buttonsClickHandler() {\r\n    if (this.$buttonClear) {\r\n      this.$buttonClear.addEventListener(\"click\", () => {\r\n        this.clear();\r\n      });\r\n    }\r\n    if (this.$buttonSubmit) {\r\n      this.$buttonSubmit.addEventListener(\"click\", () => {\r\n        this.submit();\r\n      });\r\n    }\r\n  }\r\n\r\n  inlineDropdown() {\r\n    if (!this.$el.classList.contains(\"inline\")) {\r\n      this.$el.classList.add(\"inline\");\r\n    }\r\n    this.open();\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.$el.classList.contains(\"open\");\r\n  }\r\n\r\n  toggle() {\r\n    this.isOpen && !this.isInline === true ? this.close() : this.open();\r\n  }\r\n\r\n  open() {\r\n    this.$el.classList.add(\"open\");\r\n  }\r\n\r\n  close() {\r\n    this.$el.classList.remove(\"open\");\r\n  }\r\n  destroy() {\r\n    this.$el.removeEventListener(\"click\", this.clickHandler);\r\n  }\r\n\r\n  plus() {\r\n    for (let item of this.data) {\r\n      const $selectItem = this.$el.querySelector(`.select__item-${item.id}`);\r\n\r\n      const plusButton = $selectItem.querySelector(\".select__item-plus\");\r\n      const minusButton = $selectItem.querySelector(\".select__item-minus\");\r\n      const itemValue = $selectItem.querySelector(\".select__item-number\");\r\n\r\n      plusButton.addEventListener(\"click\", () => {\r\n        item.counter += 1;\r\n        minusButton.classList.remove(\"inactive\");\r\n\r\n        itemValue.innerHTML = item.counter;\r\n        this.$selectText.innerHTML = this.chosenUpdate();\r\n        this.buttonRegulator();\r\n        this.setInputValue();\r\n      });\r\n    }\r\n  }\r\n  minus() {\r\n    for (let item of this.data) {\r\n      const $selectItem = this.$el.querySelector(`.select__item-${item.id}`);\r\n      const minusButton = $selectItem.querySelector(\".select__item-minus\");\r\n      const itemValue = $selectItem.querySelector(\".select__item-number\");\r\n      minusButton.addEventListener(\"click\", () => {\r\n        if (this.#isZero(item.counter)) {\r\n          item.counter;\r\n        } else {\r\n          item.counter -= 1;\r\n          if (this.#isZero(item.counter)) {\r\n            minusButton.classList.add(\"inactive\");\r\n          }\r\n        }\r\n        itemValue.innerHTML = item.counter;\r\n        this.$selectText.innerHTML = this.chosenUpdate();\r\n        this.buttonRegulator();\r\n        this.setInputValue();\r\n      });\r\n    }\r\n  }\r\n\r\n  setInputValue() {\r\n    this.$input.dataset.value = this.countTotal().total;\r\n  }\r\n\r\n  buttonRegulator() {\r\n    if (this.countTotal() === 0) {\r\n      this.$buttonClear?.classList.add(\"disabled\");\r\n      this.$buttonClear?.classList.remove(\"enabled\");\r\n    } else {\r\n      this.$buttonClear?.classList.add(\"enabled\");\r\n      this.$buttonClear?.classList.remove(\"disabled\");\r\n    }\r\n  }\r\n  declinedText(num, cases) {\r\n    return num + \" \" + this.declineByQuan(num, cases);\r\n  }\r\n\r\n  clear() {\r\n    this.$selectText.innerHTML = this.options.placeholder;\r\n    for (let item of this.data) {\r\n      item.counter = 0;\r\n    }\r\n    this.$items.forEach((item) => {\r\n      item.querySelector(\".select__item-number\").innerHTML = 0;\r\n      item.querySelector(\".select__item-minus\").classList.add(\"inactive\");\r\n    });\r\n    this.buttonRegulator();\r\n    this.setInputValue();\r\n  }\r\n\r\n  submit() {\r\n    this.$selectText.innerHTML = this.chosenUpdate();\r\n    if (!this.isInline) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  countTotal() {\r\n    this.total = 0;\r\n    let exceptions = 0;\r\n    for (let item of this.data) {\r\n      if (item.value === this.countException) {\r\n        exceptions += item.counter;\r\n      }\r\n      this.total += item.counter;\r\n    }\r\n    return { total: this.total - exceptions, exc: exceptions };\r\n  }\r\n\r\n  showByTotal() {\r\n    let num = this.countTotal().total;\r\n    let exc = this.countTotal().exc;\r\n    if (!this.#isZero(num)) {\r\n      let selectText = `${this.declinedText(num, [\r\n        \"гость\",\r\n        \"гостя\",\r\n        \"гостей\",\r\n      ])}`;\r\n\r\n      if (this.countTotal().exc) {\r\n        const textException = `, ${this.declinedText(exc, [\r\n          \"младенец\",\r\n          \"младенца\",\r\n          \"младенцев\",\r\n        ])}`;\r\n        selectText += textException;\r\n      }\r\n      return selectText;\r\n    }\r\n  }\r\n\r\n  showByTitles() {\r\n    let chosenArr = [];\r\n    for (let item of this.data) {\r\n      if (!this.#isZero(item.counter)) {\r\n        chosenArr.push(this.declinedText(item.counter, item.cases));\r\n      }\r\n    }\r\n    return chosenArr.join(\", \");\r\n  }\r\n  chosenUpdate() {\r\n    if (this.countItems == \"byTitles\") {\r\n      return this.showByTitles() || this.options.placeholder;\r\n    } else if (this.countItems == \"byTotalNumber\") {\r\n      return this.showByTotal() || this.options.placeholder;\r\n    }\r\n  }\r\n  setValue(val) {\r\n    this.$input.dataset.value = val;\r\n  }\r\n  #isZero(num) {\r\n    return num == 0;\r\n  }\r\n  declineByQuan(number, txt) {\r\n    const cases = [2, 0, 1, 1, 1, 2];\r\n    return txt[\r\n      number % 100 > 4 && number % 100 < 20\r\n        ? 2\r\n        : cases[number % 10 < 5 ? number % 10 : 5]\r\n    ];\r\n  }\r\n  checkLocalStorage() {\r\n    if (JSON.parse(localStorage.getItem(\"chosenData\"))) {\r\n      console.log(JSON.parse(localStorage.getItem(\"chosenData\")).guests);\r\n    }\r\n  }\r\n  setDataObject(dataObject) {\r\n    let guests;\r\n    if (dataObject) {\r\n      guests = dataObject;\r\n    } else {\r\n      return;\r\n    }\r\n    for (let i of Object.values(guests.chosenItems)) {\r\n      this.data[i.id - 1].counter = i.counter;\r\n      const $selectItem = this.$el.querySelector(`.select__item-${i.id}`);\r\n      const itemValue = $selectItem.querySelector(\".select__item-number\");\r\n      itemValue.innerHTML = i.counter;\r\n    }\r\n\r\n    this.buttonRegulator();\r\n\r\n    this.$selectText.innerHTML = guests.selectText;\r\n    this.$input.dataset.value = guests.total.total;\r\n\r\n    console.log(guests.selectText);\r\n  }\r\n  getDataObject() {\r\n    let items = {};\r\n    let guests = {};\r\n    let exceptions = {};\r\n    let exception = \"младенцы\";\r\n\r\n    let guestCount = 0;\r\n    let exceptionCount = 0;\r\n\r\n    for (let i of this.data) {\r\n      let tempObj = {};\r\n\r\n      if (i.counter > 0) {\r\n        tempObj.id = i.id;\r\n        tempObj.textValue = this.declinedText(i.counter, i.cases);\r\n        tempObj.counter = i.counter;\r\n        if (i.value !== exception) {\r\n          guestCount += i.counter;\r\n          tempObj.cases = this.guestsCases;\r\n        } else {\r\n          exceptionCount += i.counter;\r\n          tempObj.cases = i.cases;\r\n        }\r\n        items[`${i.id}`] = tempObj;\r\n      }\r\n    }\r\n\r\n    guests.counter = guestCount;\r\n\r\n    guests.cases = this.guestsCases;\r\n    exceptions.counter = exceptionCount;\r\n    exceptions.cases = this.guestsCatCases[2];\r\n\r\n    let guestsText =\r\n      guests.counter > 0\r\n        ? `${this.declinedText(guests.counter, guests.cases)}, `\r\n        : \"\";\r\n    let exceptionsText =\r\n      exceptions.counter > 0\r\n        ? `${this.declinedText(exceptions.counter, exceptions.cases)}`\r\n        : \"\";\r\n\r\n    let countGuestsText = guestsText + exceptionsText;\r\n\r\n    let obj = {\r\n      total: this.countTotal(),\r\n      chosenItems: items,\r\n      guests: guests,\r\n      exceptions: exceptions,\r\n      selectText: countGuestsText,\r\n    };\r\n\r\n    return obj;\r\n  }\r\n\r\n  getDefaultAccomodationsObj() {\r\n    this.accomodationsCases = [\r\n      [\"спальня\", \"спальни\", \"спален\"],\r\n      [\"кровать\", \"кровати\", \"кроватей\"],\r\n      [\"ванная комната\", \"ванные комнаты\", \"ванных комнат\"],\r\n    ];\r\n\r\n    const accoms = this.accomodationsCases;\r\n\r\n    let dataArr = [];\r\n    for (let i = 0; i <= accoms.length - 1; i++) {\r\n      let data = {};\r\n      (data.id = i + 1),\r\n        (data.value = accoms[i][1]),\r\n        (data.counter = 0),\r\n        (data.cases = accoms[i]);\r\n      dataArr.push(data);\r\n    }\r\n    return dataArr;\r\n  }\r\n\r\n  getDefaultGuestsObj() {\r\n    this.guestsCategories = [\"взрослые\", \"дети\", \"младенцы\"];\r\n    this.guestsCatCases = [\r\n      [\"взрослый\", \"взрослых\", \"взрослых\"],\r\n      [\"ребёнок\", \"ребёнка\", \"детей\"],\r\n      [\"младенец\", \"младенца\", \"младенцев\"],\r\n    ];\r\n    this.countException = \"младенцы\";\r\n    this.guestsCases = [\"гость\", \"гостя\", \"гостей\"];\r\n    const guests = this.guestsCatCases;\r\n\r\n    let dataArr = [];\r\n    for (let i = 0; i <= guests.length - 1; i++) {\r\n      let data = {};\r\n      (data.id = i + 1),\r\n        (data.value = this.guestsCategories[i]),\r\n        (data.counter = 0),\r\n        (data.cases = guests[i]),\r\n        dataArr.push(data);\r\n    }\r\n    return dataArr;\r\n  }\r\n  getDefaultOptions() {\r\n    let category = this.$el.classList.contains(\"select-accomodations\")\r\n      ? \"accomodations\"\r\n      : \"guests\";\r\n    let defaultPlaceholder = \"Выберите пожалуйста элемент\";\r\n    let defaultData, byTitle, byTotalNumber;\r\n    let defaultInline = this.$el.classList.contains(\"inline\") ? true : false;\r\n\r\n    const buttonsVar = [\r\n      { name: \"buttonClear\", value: \"очистить\" },\r\n      { name: \"buttonSubmit\", value: \"применить\" },\r\n    ];\r\n    let defaultButtons = false;\r\n    let defaultCountItems = \"byTitles\";\r\n    if (category == \"accomodations\") {\r\n      defaultPlaceholder = \"Выберите удобства\";\r\n      defaultData = this.getDefaultAccomodationsObj();\r\n      defaultButtons;\r\n      defaultCountItems;\r\n    } else {\r\n      defaultPlaceholder = \"Сколько гостей\";\r\n      defaultData = this.getDefaultGuestsObj();\r\n      defaultButtons = buttonsVar;\r\n      defaultCountItems = \"byTotalNumber\";\r\n    }\r\n    return {\r\n      placeholder: defaultPlaceholder,\r\n      isInline: defaultInline,\r\n      data: defaultData,\r\n      buttons: defaultButtons,\r\n      countItems: defaultCountItems,\r\n    };\r\n  }\r\n\r\n  mergeUserOptions(userOptions) {\r\n    return Object.assign(this.getDefaultOptions(), userOptions);\r\n  }\r\n}\r\nconst getTemplate = (data, placeholder, buttons) => {\r\n  let $buttonContainer = ``;\r\n  let buttonSet = \"\";\r\n\r\n  // =============== buttons =================\r\n  if (buttons) {\r\n    for (let button of buttons) {\r\n      let disabled = button.name == \"buttonClear\" ? \"disabled\" : \"\";\r\n      buttonSet += `<div class=\"button button-noborder select__button-${button.name} ${disabled}\">${button.value}</div>`;\r\n    }\r\n    $buttonContainer = `<div class= \"select__buttons\">${buttonSet}</div>`;\r\n  }\r\n\r\n  const items = data.map((item) => {\r\n    // ============= items ======================\r\n    return `\r\n    \r\n      <div class=\"select__item select__item-${item.id}\">\r\n      <div class=\"select__item-name\">${item.value}</div>\r\n        <div class=\"select__item-choice\">\r\n          <div class=\"select__item-minus inactive\"><span>-</span></div>\r\n          <div class=\"select__item-number\"><span>${item.counter}</span></div>\r\n          <div class=\"select__item-plus\"><span>+</span></div>\r\n        </div>\r\n      </div>  \r\n    `;\r\n  });\r\n\r\n  // ========= dropdown =========================\r\n  return `\r\n  <div class = \"select__backdrop\" data-type=\"backdrop\"></div>\r\n  <div class=\"select__input\" data-value=\"0\" data-type=\"input\">\r\n    <span>${placeholder}</span></div>\r\n  <div class=\"select__dropdown\">\r\n      <div class=\"select__items\"> \r\n        ${items.join(\"\")}\r\n      </div>\r\n        ${$buttonContainer}\r\n  </div>\r\n  `;\r\n};\r\n"],"names":["Select","selector","options","this","$el","document","querySelector","mergeUserOptions","getDefaultOptions","isInline","plus","minus","console","log","event","type","target","dataset","toggle","close","$buttonClear","addEventListener","clear","$buttonSubmit","submit","classList","contains","add","open","isOpen","remove","removeEventListener","clickHandler","data","item","$selectItem","id","plusButton","minusButton","itemValue","counter","innerHTML","$selectText","chosenUpdate","buttonRegulator","setInputValue","$input","value","countTotal","total","num","cases","declineByQuan","placeholder","$items","forEach","exceptions","countException","exc","selectText","declinedText","chosenArr","push","join","countItems","showByTitles","showByTotal","val","number","txt","JSON","parse","localStorage","getItem","guests","dataObject","Object","values","chosenItems","i","items","guestCount","exceptionCount","tempObj","textValue","guestsCases","guestsCatCases","countGuestsText","accomodationsCases","accoms","dataArr","length","guestsCategories","defaultData","category","defaultPlaceholder","defaultInline","defaultButtons","defaultCountItems","getDefaultAccomodationsObj","getDefaultGuestsObj","name","buttons","userOptions","assign","getTemplate","inlineDropdown","bind","querySelectorAll","$num","buttonsClickHandler","$buttonContainer","buttonSet","button","disabled","map"],"sourceRoot":""}